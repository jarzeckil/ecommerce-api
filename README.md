# MTAB E-Commerce API

A robust RESTful API designed for an e-commerce platform, handling the core logic of product management and order processing. This project focuses on strict data consistency, correct modeling of complex relational database structures, and transactional integrity.

## üìã Overview

The application serves as a backend system for a shopping cart experience. It resolves the classic "Order History" problem by implementing a Many-to-Many relationship with attributes, ensuring that price changes in the catalog do not affect historical order data.

### Key Features
* **Transactional Integrity:** Uses Spring's `@Transactional` to ensure atomic operations when placing orders (ACID compliance).
* **Advanced ORM Modeling:** Implements a normalized database schema with `OneToMany` and `ManyToOne` relationships.
* **Historical Data Preservation:** The `ItemOrder` entity preserves the snapshot of prices and quantities at the moment of purchase.
* **Dockerized Infrastructure:** Database and environment configuration managed via Docker Compose.

## üõ†Ô∏è Tech Stack

* **Language:** Java 21
* **Framework:** Spring Boot 3 (Web, Data JPA)
* **Database:** PostgreSQL 15
* **Infrastructure:** Docker & Docker Compose
* **Tools:** Maven, Lombok

## üóÑÔ∏è Database Model

The system is built upon 5 core entities:

1.  **Customer**: User data management.
2.  **ItemCategory**: Categorization for products.
3.  **Item**: The product catalog.
4.  **Order**: Order header containing timestamp and customer reference.
5.  **ItemOrder**: The junction table (association entity) linking Orders and Items. It stores:
    * `quantity`: Number of items purchased.
    * `price`: The frozen price at the time of the transaction.

## üöÄ Getting Started

### Prerequisites
* Docker & Docker Compose
* Java SDK (JDK 17 or higher)

### Installation & Running

1.  **Start the Database**
    Launch the PostgreSQL container using Docker Compose:
    ```bash
    docker compose up -d
    ```

2.  **Run the Application**
    Start the Spring Boot application using the Maven Wrapper:
    ```bash
    ./mvnw spring-boot:run
    ```

    The API will be available at `http://localhost:8080`.
    Database tables will be automatically generated by Hibernate upon the first launch.

## üîå API Endpoints (Preview)

The application exposes standard REST endpoints.

* **Items**
    * `GET /api/items` - Retrieve all available products.
    * `GET /api/items?categoryId={id}` - Filter products by category.
    * `GET /api/items/{id}` - Get product details.

* **Orders**
    * `POST /api/orders` - Place a new order.
        * *Requires a JSON body containing the Customer ID and a list of Items with quantities.*
    * `GET /api/orders/{id}` - Retrieve order summary.

## üìù Author

**≈Åukasz Jarzƒôcki**
